<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>IPython &mdash; Python4Astronomers 2.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/bootstrap-astropy.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <link rel="top" title="Python4Astronomers 2.0 documentation" href="../index.html" />
    <link rel="up" title="Core packages for analysis: IPython, NumPy, and SciPy" href="core.html" />
    <link rel="next" title="NumPy" href="numpy_scipy.html" />
    <link rel="prev" title="Core packages for analysis: IPython, NumPy, and SciPy" href="core.html" />
<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'>
<script type="text/javascript" src="../_static/copybutton.js"></script>

<script type="text/javascript"> 
$(document).ready(function(){

$(".flip0").click(function(){
    $(".panel0").slideToggle("normal");
  });

$(".flip1").click(function(){
    $(".panel1").slideToggle("normal");
  });

$(".flip2").click(function(){
    $(".panel2").slideToggle("normal");
  });

$(".flip3").click(function(){
    $(".panel3").slideToggle("normal");
  });

$(".flip4").click(function(){
    $(".panel4").slideToggle("normal");
  });

$(".flip5").click(function(){
    $(".panel5").slideToggle("normal");
  });

$(".flip6").click(function(){
    $(".panel6").slideToggle("normal");
  });

$(".flip7").click(function(){
    $(".panel7").slideToggle("normal");
  });

$(".flip8").click(function(){
    $(".panel8").slideToggle("normal");
  });

$(".flip9").click(function(){
    $(".panel9").slideToggle("normal");
  });

});
</script>
 
<style type="text/css"> 

div.panel0,p.flip0
{
    font-size: 0.9em;
    margin: 0;
    padding: 0.1em 0 0.1em 0.5em;
    border-bottom: 1px solid #86989B;
}
p.flip0
{
    color: white;
    font-weight: bold;
    background-color: #AFC1C4;
}
div.panel0
{
display:none;
}

div.panel1,p.flip1
{
    font-size: 0.9em;
    margin: 0;
    padding: 0.1em 0 0.1em 0.5em;
    border-bottom: 1px solid #86989B;
}
p.flip1
{
    color: white;
    font-weight: bold;
    background-color: #AFC1C4;
}
div.panel1
{
display:none;
}

div.panel2,p.flip2
{
    font-size: 0.9em;
    margin: 0;
    padding: 0.1em 0 0.1em 0.5em;
    border-bottom: 1px solid #86989B;
}
p.flip2
{
    color: white;
    font-weight: bold;
    background-color: #AFC1C4;
}
div.panel2
{
display:none;
}

div.panel3,p.flip3
{
    font-size: 0.9em;
    margin: 0;
    padding: 0.1em 0 0.1em 0.5em;
    border-bottom: 1px solid #86989B;
}
p.flip3
{
    color: white;
    font-weight: bold;
    background-color: #AFC1C4;
}
div.panel3
{
display:none;
}

div.panel4,p.flip4
{
    font-size: 0.9em;
    margin: 0;
    padding: 0.1em 0 0.1em 0.5em;
    border-bottom: 1px solid #86989B;
}
p.flip4
{
    color: white;
    font-weight: bold;
    background-color: #AFC1C4;
}
div.panel4
{
display:none;
}

div.panel5,p.flip5
{
    font-size: 0.9em;
    margin: 0;
    padding: 0.1em 0 0.1em 0.5em;
    border-bottom: 1px solid #86989B;
}
p.flip5
{
    color: white;
    font-weight: bold;
    background-color: #AFC1C4;
}
div.panel5
{
display:none;
}

div.panel6,p.flip6
{
    font-size: 0.9em;
    margin: 0;
    padding: 0.1em 0 0.1em 0.5em;
    border-bottom: 1px solid #86989B;
}
p.flip6
{
    color: white;
    font-weight: bold;
    background-color: #AFC1C4;
}
div.panel6
{
display:none;
}

div.panel7,p.flip7
{
    font-size: 0.9em;
    margin: 0;
    padding: 0.1em 0 0.1em 0.5em;
    border-bottom: 1px solid #86989B;
}
p.flip7
{
    color: white;
    font-weight: bold;
    background-color: #AFC1C4;
}
div.panel7
{
display:none;
}

div.panel8,p.flip8
{
    font-size: 0.9em;
    margin: 0;
    padding: 0.1em 0 0.1em 0.5em;
    border-bottom: 1px solid #86989B;
}
p.flip8
{
    color: white;
    font-weight: bold;
    background-color: #AFC1C4;
}
div.panel8
{
display:none;
}

div.panel9,p.flip9
{
    font-size: 0.9em;
    margin: 0;
    padding: 0.1em 0 0.1em 0.5em;
    border-bottom: 1px solid #86989B;
}
p.flip9
{
    color: white;
    font-weight: bold;
    background-color: #AFC1C4;
}
div.panel9
{
display:none;
}

</style>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-18709417-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


  </head>
  <body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">python</span><span id="logotext2">4</span><span id="logotext3">astronomers</span></a>
  <ul>
    <li><a class="homelink" title="Astropy Homepage" href="http://www.astropy.org"></a></li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="numpy_scipy.html" title="NumPy">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="core.html" title="Core packages for analysis: IPython, NumPy, and SciPy">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">Python4Astronomers 2.0 documentation</a>
	 &raquo;
      </li>
      <li><a href="core.html" accesskey="U">Core packages for analysis: IPython, NumPy, and SciPy</a> &raquo;</li>
      
      <li>IPython</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="ipython">
<h1>IPython<a class="headerlink" href="#ipython" title="Permalink to this headline">¶</a></h1>
<p>IPython is an enhanced Python shell that creates a comprehensive environment
for interactive and exploratory computing.  In this section we&#8217;ll learn the
basic features of IPython and how it benefits interactive analysis.</p>
<p>Before going further, open a new terminal window and change to your main Python
for Astronomers working directory.  Then start IPython by typing &#8220;ipython
&#8211;matplotlib&#8221; at the command prompt:</p>
<div class="highlight-python"><div class="highlight"><pre>$ ipython --matplotlib
</pre></div>
</div>
<p>As we saw in the Introduction and Installation workshops, for interactive data
analysis IPython has a special <tt class="docutils literal"><span class="pre">--matplotlib</span></tt> command line option which makes
interactive plotting work better from a terminal window by allowing a plot to
come up without blocking subsequent terminal input.</p>
<p>In all of the tutorial examples we will start the session by importing the
core modules numpy and matplotlib as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
</pre></div>
</div>
<p>The abbreviations <tt class="docutils literal"><span class="pre">np</span></tt> and <tt class="docutils literal"><span class="pre">plt</span></tt> provide quick access to numpy and
matplotlib routines and are widely used in scientific code.</p>
<div class="admonition-reminder-what-does-import-do admonition">
<p class="first admonition-title">Reminder: What does <tt class="docutils literal"><span class="pre">import</span></tt> do?</p>
<p>In python only basic functionality is provided in the language itself. Most of the
commands we need are imported from other
<a class="reference external" href="http://docs.python.org/tutorial/modules.html">modules</a>. The
<a class="reference external" href="http://docs.python.org/reference/simple_stmts.html#import">import</a> statement
makes the functions in a module available:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">ctime</span><span class="p">())</span>   <span class="c"># will fail</span>
<span class="c"># need to import the time module first</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="n">time</span><span class="o">.</span><span class="n">ctime</span><span class="p">()</span>          <span class="c"># prints the system time</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">as</span></tt> variant of <tt class="docutils literal"><span class="pre">import</span></tt> simply saves some typing. <tt class="docutils literal"><span class="pre">import</span> <span class="pre">numpy</span> <span class="pre">as</span> <span class="pre">np</span></tt>
allows us to type <tt class="docutils literal"><span class="pre">np</span></tt> instead of <tt class="docutils literal"><span class="pre">numpy</span></tt> to call a numpy function:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
</div>
<p>IPython with the  <tt class="docutils literal"><span class="pre">--matplotlib</span></tt> command line option provides a Matlab-like environment
allowing very simple and direct commands like the following:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="keyboard-navigation-and-history">
<h2>Keyboard navigation and history<a class="headerlink" href="#keyboard-navigation-and-history" title="Permalink to this headline">¶</a></h2>
<p>One of the most useful features of IPython is the ability to edit and navigate
you command line history.  This lets you quickly re-do commands, perhaps with a
slight variation based on seeing the last result.  Try cut-n-pasting the above
lines in an IPython session.  This should bring up a plot of a sine wave.</p>
<p>Now hit up-arrow once and get back the <tt class="docutils literal"><span class="pre">plt.plot(x,</span> <span class="pre">y)</span></tt> line.  Hit the left-arrow
key (not backspace) once and type <tt class="docutils literal"><span class="pre">**2</span></tt> so that the line reads <tt class="docutils literal"><span class="pre">plt.plot(x,</span>
<span class="pre">y**2)</span></tt>.  Now you can hit Return to see the new curve overlayed within the same
plot window.  It is not necessary to forward-space to the end of the line, you
can hit Return with the cursor anywhere in the line.</p>
<p>Now say you want to change the <tt class="docutils literal"><span class="pre">x</span></tt> values slightly.  One option is to just hit the
up-arrow 5 times, but a much faster way is to remember that the line started
with <tt class="docutils literal"><span class="pre">x</span></tt>, so type <tt class="docutils literal"><span class="pre">x</span></tt> and then start hitting up-arrow.  Only lines that
start with <tt class="docutils literal"><span class="pre">x</span></tt> will be displayed and you are immediately at the
<tt class="docutils literal"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">np.arange(0,</span> <span class="pre">10,</span> <span class="pre">0.2)</span></tt> line.  Now use the right-arrow and backspace to change <tt class="docutils literal"><span class="pre">10</span></tt> to
<tt class="docutils literal"><span class="pre">15</span></tt> and hit Return.  Of course <tt class="docutils literal"><span class="pre">y</span></tt> needs to be recalculated, so hit <tt class="docutils literal"><span class="pre">y</span></tt>
then up-arrow, then Return.  Finally <tt class="docutils literal"><span class="pre">pl</span></tt> up-arrow and Return.  Nice and fast!</p>
<p>Bonus points: to speed up by another factor of several, use Ctrl-p (prev) instead of
up-arrow, Ctrl-n (next) instead of down-arrow, Ctrl-f (forward) instead of
right-arrow and Ctrl-b (back) instead of left-arrow.  That way your fingers
never leave the keyboard home keys.  Ctrl-a gets you to the beginning of the
line and Ctrl-e gets you to the end of the line.  Triple bonus: on a Mac or
Windows machine re-map the Caps-lock key to be Control so it&#8217;s right next to
your left pinky.  How often do you need Caps-lock?</p>
<p>Your command history is saved between sessions (assuming that you exit IPython
gracefully) so that when you start a new IPython you can use up-arrow to re-do
old commands.  You can view your history within the current session by entering
<tt class="docutils literal"><span class="pre">history</span></tt>.</p>
</div>
<div class="section" id="linux-and-shell-commands">
<h2>Linux and shell commands<a class="headerlink" href="#linux-and-shell-commands" title="Permalink to this headline">¶</a></h2>
<p>A select set of useful linux commands are available from the IPython prompt.
These include <tt class="docutils literal"><span class="pre">ls</span></tt> (list directory), <tt class="docutils literal"><span class="pre">pwd</span></tt> (print working directory),
<tt class="docutils literal"><span class="pre">cd</span></tt> (change directory), and <tt class="docutils literal"><span class="pre">rm</span></tt> (remove file).  Any shell command
can be executed by preceding it with an exclamation point &#8221;!&#8221;.</p>
</div>
<div class="section" id="tab-completion">
<h2>Tab completion<a class="headerlink" href="#tab-completion" title="Permalink to this headline">¶</a></h2>
<p>IPython has a very useful tab completion feature that can be used both to
complete file names and to inspect python objects.  As an example do:</p>
<div class="highlight-python"><div class="highlight"><pre>ls ~/&lt;TAB&gt;
</pre></div>
</div>
<p>This will list everything in your home directory.  You can continue
this way searching through files or hit Return to complete the command.</p>
</div>
<div class="section" id="showing-data-values">
<h2>Showing data values<a class="headerlink" href="#showing-data-values" title="Permalink to this headline">¶</a></h2>
<p>So far we typed <tt class="docutils literal"><span class="pre">print</span> <span class="pre">x</span></tt> to look at the value of <tt class="docutils literal"><span class="pre">x</span></tt>.  However,
most of the time for interactive analysis it is faster and better to simply
type <tt class="docutils literal"><span class="pre">x</span></tt> (or whatever the object name) followed by &lt;Return&gt;.  This returns
the &#8220;representation&#8221; of the object, which is often a cleaner and more
informative than the &#8220;string&#8221; version that gets returned with <tt class="docutils literal"><span class="pre">print</span></tt>.  In
many cases the &#8220;representation&#8221; of an object is the same as the Python
code used to create that object.</p>
<p>Try:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">y</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="s">&#39;value is </span><span class="si">%d</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="n">y</span>
<span class="k">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="further-resources">
<h2>Further resources<a class="headerlink" href="#further-resources" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="http://ipython.github.com/ipython-doc/stable/html/index.html">IPython docs page</a></li>
<li><a class="reference external" href="http://ipython.scipy.org/doc/rel-0.9.1/html/config/customization.html">IPython customization</a> :
E.g. to always import certain modules read <a class="reference external" href="http://ipython.scipy.org/doc/rel-0.9.1/html/config/customization.html#the-ipythonrc-approach">The ipythonrc approach</a>
which explains editing <tt class="docutils literal"><span class="pre">~/.ipython/ipythonrc</span></tt> and setting the
<tt class="docutils literal"><span class="pre">import_mod</span></tt> configuration.</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">IPython</a><ul>
<li><a class="reference internal" href="#keyboard-navigation-and-history">Keyboard navigation and history</a></li>
<li><a class="reference internal" href="#linux-and-shell-commands">Linux and shell commands</a></li>
<li><a class="reference internal" href="#tab-completion">Tab completion</a></li>
<li><a class="reference internal" href="#showing-data-values">Showing data values</a></li>
<li><a class="reference internal" href="#further-resources">Further resources</a></li>
</ul>
</li>
</ul>


  <h4>Previous topic</h4>
  <p class="topless"><a href="core.html"
                        title="previous chapter">Core packages for analysis: IPython, NumPy, and SciPy</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="numpy_scipy.html"
                        title="next chapter">NumPy</a></p>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="../_sources/core/ipython.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2011-2015, Smithsonian Astrophysical Observatory under
    terms of <a rel="license"
                href="http://creativecommons.org/licenses/by/3.0/">CC
      Attribution 3.0</a>.<br/>
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.3. &nbsp;
</footer>
  </body>
</html>